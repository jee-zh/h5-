!function(e){function t(t){for(var a,o,c=t[0],r=t[1],s=t[2],u=0,h=[];u<c.length;u++)o=c[u],i[o]&&h.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);for(d&&d(t);h.length;)h.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,c=1;c<n.length;c++){var r=n[c];0!==i[r]&&(a=!1)}a&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={1:0},l=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var c=window.webpackJsonp=window.webpackJsonp||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=r;l.push([86,0]),n()}({86:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),l=n(3),o=n.n(l),c=(n(87),n(92),n(94),n(0)),r=n(20),s=n(1),d=function(e,t){var n=document.createElement("div"),a="black"===t?"mask-black-dialog":"mask-white-dialog";n.className=a,n.innerHTML='<div class="m-loading"><div class="loading-icon"></div><div class="loading-txt">'+e+"</div></div>",!document.querySelector("."+a)&&document.body.appendChild(n)},u=function(e,t){var n="black"===e?"mask-black-dialog":"mask-white-dialog";document.querySelector("."+n)&&document.body.removeChild(document.querySelector("."+n)),t&&t()},h=n(21),v=n(6),m=n(22),p=n.n(m),f=n(23),y=n(9),g="ufrbmhwap";(new(function(){function e(){i()(this,e),this.nav=document.querySelector(".nav"),this.headerTop=document.querySelector(".header-top"),this.moreBtn=document.querySelectorAll(".more-channel-btn"),this.topTip=document.querySelector(".refresh-hook"),this.loadHook=document.querySelector(".loading-hook"),this.recommend=document.querySelector("#recommend"),this.channelId=Object(s.a)("id")?Object(s.a)("id"):"100",this.curPage=1,this.dataType="100"===this.channelId?"h5_index":"h5_channel",this.loadDataFlag=!0}return o()(e,[{key:"_init",value:function(){this.lastIndexInt(),this.navInt(),this.setPageScroll(),this.handleMoreBtnClick(),this.handleChannelListClick()}},{key:"lastIndexInt",value:function(){var e=this;this.lastIndex=0,y.b.forEach(function(t,n){t.id===e.channelId&&(e.lastIndex=n)})}},{key:"navInt",value:function(){var e="";y.b.forEach(function(t){e+='<li typeid="'+t.id+'"><span>'+t.channel+"</span></li>"}),this.nav.querySelector("ul").innerHTML=e,this.handelNavBar()}},{key:"handelNavBar",value:function(){for(var e=this.nav.getElementsByTagName("ul")[0].children,t=0,n=0;n<e.length;n++){var a=e[n].querySelector("span").innerText.length;t+=0===n?76:2===a?58:3===a?74:90}this.nav.getElementsByTagName("ul")[0].style.width=t+"px",this.navScroll=new h.a(this.nav,{scrollX:!0,click:!0}),this.handleChannelChoice(this.nav),this.setFixedNavInt(),this.otherBtnClick(),Object(f.a)()}},{key:"setFixedNavInt",value:function(){for(var e=document.querySelectorAll(".nav li"),t=-document.body.scrollWidth/2,n=0;n<e.length;n++)e[n].classList.remove("active");e[this.lastIndex].classList.add("active"),this.navScroll.scrollToElement(e[this.lastIndex],200,t,0,"easing")}},{key:"handleChannelChoice",value:function(e){for(var t=e.querySelectorAll("li"),n=this,a=0;a<t.length;a++)!function(e){t[e].addEventListener("click",function(a){if(t[e].getAttribute("typeid"),e!==n.lastIndex){n.lastIndex=e;var i=t[e].getAttribute("typeid");n.channelId=i,n.curPage=1,n.dataType="100"===n.channelId?"h5_index":"h5_channel",n.getMoreListAjax("change"),n.setFixedNavInt()}})}(a)}},{key:"handleMoreBtnClick",value:function(){for(var e=0;e<this.moreBtn.length;e++)this.moreBtn[e].addEventListener("click",function(){document.body.classList.contains("page-active")?(document.body.classList.remove("page-active"),document.querySelector(".channel-list-mask").style.display="none",Object(v.a)(!1)):(document.body.classList.add("page-active"),document.querySelector(".channel-list-mask").style.display="block",Object(v.a)(!0))});document.querySelector(".channel-list-mask").addEventListener("click",function(){document.body.classList.remove("page-active"),document.querySelector(".channel-list-mask").style.display="none",Object(v.a)(!1)})}},{key:"otherBtnClick",value:function(){this.headerTop.querySelector(".header-top-btn").addEventListener("click",function(){alert("下载app")})}},{key:"handleChannelListClick",value:function(){for(var e=document.querySelectorAll(".channel-list-wrapper li"),t=e.length,n=this,a=0;a<t;a++)!function(t){e[t].addEventListener("click",function(){var a=e[t].getAttribute("typeid");n.channelId=a,n.curPage=1,n.dataType="100"===n.channelId?"h5_index":"h5_channel";var i=n.getChannelIndex(a);n.getMoreListAjax("change"),n.lastIndex=i,n.setFixedNavInt()})}(a)}},{key:"getChannelIndex",value:function(e){for(var t=this.nav.querySelectorAll("li"),n=0;n<t.length;n++)if(t[n].getAttribute("typeid")===e)return n;return 0}},{key:"setPageScroll",value:function(){var e=this;this.getMoreListAjax("up"),window.addEventListener("scroll",function(){(function(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t})()<function(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t}()+("CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)+200&&e.loadDataFlag&&(e.loadDataFlag=!1,e.loadHook.innerText="加载中...",e.getMoreListAjax("up",function(){e.loadDataFlag=!0,e.loadHook.innerText="上拉加载更多"}))})}},{key:"getMoreListAjax",value:function(e,t){d("拼命加载中...");var n={dataType:this.dataType,pageSize:12,pageIndex:this.curPage,channelId:this.channelId},a=this;Object(r.a)({url:"//interface.video.baomihua.com/index.ashx",type:"GET",data:n,timeout:3e4,dataType:"jsonp",jsonp:"jsoncallback",jsonpcallback:"ok",success:function(n){if(a.loadHook.innerHTML="上拉加载更多",u(),n.Videolist){for(var i=n.Videolist,l=i.length,o="",c=0;c<l;c++){var r=i[c].videoImgUrl,s="_self",d=i[c];r.indexOf("/x/")>-1&&(r=r.replace("/x/","/230_172/")),"?f=mVideo"==window.location.search&&(s="_blank");var h=d.videoPlayUrl,v=!!d.companyName;"133"===a.channelId?o+=a.setVerticalHtml(d,h):o+=a.setBigNewList(d,h,v,s)}var m=document.querySelector("#recommend"),f=m.querySelectorAll("li");"133"===a.channelId?m.querySelector("ul").className="v-list-content":m.querySelector("ul").className="list-content","change"===e?(document.querySelector("#recommend ul").innerHTML=o,window.scrollTo(0,0)):f.length>0?f[f.length-1].insertAdjacentHTML("afterend",o):document.querySelector("#recommend ul").innerHTML=o,new p.a({elements_selector:".lazy"}),a.curPage++,"function"==typeof t&&t()}}})}},{key:"setBigNewList",value:function(e,t,n,a){if(e){var i="",l=e.videoImgUrl;l.indexOf("/x/")>-1&&(l=l.replace("/x/","/640_360/")),t=t+"?ly="+g,"bdqt"===Object(s.a)("fr")&&(t+="&fr=bdqt"),i+='<li class="list">\n      <a onclick="commitUserView(\''+e.videoId+"','PGC')\" href=\""+t+'" class="video-link" target="'+a+'">\n      <p class="video-txt">'+e.videoTitle+'</p>\n      <img data-src="'+l+'" class="video-img lazy" >\n      <p class="play-btn"></p><p class="video-time">'+e.videoCost+'</p></a><div class="video-footer"><div class="from"><img src="'+e.appPic+'" class="pic" >'+e.appName+"\n      ",n&&(i+='<em class="indent-tag"></em>'),i+='</div><div class="hot-box">'+c.a.getRandomNum(6e3,2e4)+"</div></div></li>"}return i}},{key:"setVerticalHtml",value:function(e,t){if(e){var n=e.videoImgUrl;return n.indexOf("/x/")>-1&&(n=n.replace("/x/","/360_490/")),t=t+"?ly="+g,"bdqt"===Object(s.a)("fr")&&(t+="&fr=bdqt"),'<li class="v-list"><a onclick="commitUserView(\''+e.videoId+"','PGC')\" href=\""+t+'"><div class="v-list-inner"><img class=\'v-poster\' src="'+n+'"><div class="v-infos-box">\n      <p class="v-video-title">'+e.videoTitle+'</p>\n      <div class="v-infos-user"><img src="'+e.appPic+'"><span class="v-appname">'+e.appName+"</span></div>\n      </div></div></a></li>"}return""}}]),e}()))._init()},92:function(e,t){},94:function(e,t){}});